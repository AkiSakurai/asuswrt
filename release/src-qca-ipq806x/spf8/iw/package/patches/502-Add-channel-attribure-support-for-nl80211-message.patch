Add channel attribure support for nl80211 message

---
 info.c    | 9 +++++++--
 nl80211.h | 1 +
 2 files changed, 8 insertions(+), 2 deletions(-)

diff --git a/info.c b/info.c
index 1eba5c9..8cb5ef6 100644
--- a/info.c
+++ b/info.c
@@ -161,13 +161,18 @@ static int print_phy_handler(struct nl_msg *msg, void *arg)
 					band_had_freq = true;
 				}
 				nla_for_each_nested(nl_freq, tb_band[NL80211_BAND_ATTR_FREQS], rem_freq) {
-					uint32_t freq;
+					uint32_t freq,channel;
 					nla_parse(tb_freq, NL80211_FREQUENCY_ATTR_MAX, nla_data(nl_freq),
 						  nla_len(nl_freq), freq_policy);
 					if (!tb_freq[NL80211_FREQUENCY_ATTR_FREQ])
 						continue;
 					freq = nla_get_u32(tb_freq[NL80211_FREQUENCY_ATTR_FREQ]);
-					printf("\t\t\t* %d MHz [%d]", freq, ieee80211_frequency_to_channel(freq));
+					if (tb_freq[NL80211_FREQUENCY_ATTR_CHANNEL])
+						channel = nla_get_u16(tb_freq[NL80211_FREQUENCY_ATTR_CHANNEL]);
+					else
+						channel = ieee80211_frequency_to_channel(freq);
+					printf("\t\t\t* %d MHz [%d]", freq, channel);
+
 
 					if (tb_freq[NL80211_FREQUENCY_ATTR_MAX_TX_POWER] &&
 					    !tb_freq[NL80211_FREQUENCY_ATTR_DISABLED])
diff --git a/nl80211.h b/nl80211.h
index 56368e9..31a3376 100644
--- a/nl80211.h
+++ b/nl80211.h
@@ -2892,6 +2892,7 @@ enum nl80211_frequency_attr {
 	NL80211_FREQUENCY_ATTR_IR_CONCURRENT,
 	NL80211_FREQUENCY_ATTR_NO_20MHZ,
 	NL80211_FREQUENCY_ATTR_NO_10MHZ,
+	NL80211_FREQUENCY_ATTR_CHANNEL,
 
 	/* keep last */
 	__NL80211_FREQUENCY_ATTR_AFTER_LAST,
-- 
1.9.1

